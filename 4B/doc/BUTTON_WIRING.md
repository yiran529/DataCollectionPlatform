# 三引脚按钮模块连接指南

## 按钮模块说明

您使用的是**三引脚数字按钮模块**，通常包含以下引脚：

- **VCC**: 电源正极（需要3.3V或5V）
- **GND**: 电源负极（接地）
- **OUT**: 数字信号输出

## 工作原理

这种按钮模块通常：
- **松开时**: OUT输出**HIGH**（高电平）
- **按下时**: OUT输出**LOW**（低电平，接地）

因此，GPIO需要配置为**内部上拉**（PUD_UP），这样：
- 松开时读取到HIGH
- 按下时读取到LOW

## 连接方法

### 推荐连接（使用3.3V）

```
按钮模块引脚    树莓派4B引脚
─────────────────────────────
VCC      →     3.3V (物理引脚1)
GND      →     GND  (物理引脚14)
OUT      →     GPIO17 (物理引脚11)
```

### 引脚位置

```
树莓派4B GPIO布局 (从上往下看，USB口朝下)

    3V3 (1) ← 按钮VCC
  GPIO2  (3)
  GPIO3  (5)
  GPIO4  (7)
    GND  (9)
按钮OUT GPIO17 (11) ← 按钮OUT连接这里
LED绿 GPIO27 (13)
    GND (14) ← 按钮GND和LED共阴极
LED红 GPIO22 (15)
LED蓝 GPIO23 (16)
```

## 接线步骤

1. **连接VCC到3.3V**
   - 按钮模块的VCC引脚 → 树莓派物理引脚1（3.3V）

2. **连接GND到GND**
   - 按钮模块的GND引脚 → 树莓派物理引脚14（GND）
   - 可以与LED共用一个GND

3. **连接OUT到GPIO**
   - 按钮模块的OUT引脚 → 树莓派物理引脚11（GPIO17）

## 测试连接

运行测试脚本验证连接：

```bash
cd /home/cjq/Documents/DataCollectionPlatform/4B
sudo python3 test_gpio_led.py
```

选择"测试4: 按钮测试"或"测试5: 按钮状态持续监测"来验证按钮是否正常工作。

## 常见问题

### 1. 按钮无响应

**可能原因:**
- VCC没有接电源（3.3V）
- GND没有接地
- OUT接错了GPIO引脚

**检查步骤:**
1. 确认VCC接在3.3V（物理引脚1）
2. 确认GND接在GND（物理引脚14）
3. 确认OUT接在GPIO17（物理引脚11）
4. 使用万用表测试按钮模块是否工作

### 2. 按钮状态相反

如果按下时显示"松开"，松开时显示"按下"，说明：
- 按钮模块可能是高电平触发类型
- 或者需要配置为内部下拉（PUD_DOWN）

**解决方法:**
修改代码中的GPIO配置：
```python
# 改为内部下拉
GPIO.setup(BUTTON, GPIO.IN, pull_up_down=GPIO.PUD_DOWN)
```

### 3. 使用5V电源

如果按钮模块支持5V，也可以连接：
- VCC → 5V（物理引脚2或4）
- 其他连接不变

**注意**: 确保OUT引脚输出的是3.3V逻辑电平，否则可能损坏GPIO。

## 其他按钮类型

### 两引脚机械按钮

如果是简单的两引脚机械按钮：
```
按钮一端 → GPIO17 (物理引脚11)
按钮另一端 → GND (物理引脚14)
```
GPIO配置：`GPIO.setup(BUTTON, GPIO.IN, pull_up_down=GPIO.PUD_UP)`

### 四引脚按钮模块

如果按钮模块有4个引脚（VCC, GND, NO, NC）：
- VCC → 3.3V
- GND → GND
- NO（常开）→ GPIO17
- NC（常闭）→ 不接

## 安全提示

1. **不要超过3.3V**: GPIO引脚最大输入电压是3.3V，不要直接接5V
2. **检查模块规格**: 确认按钮模块的工作电压
3. **使用限流电阻**: 如果模块没有内置保护，考虑添加限流电阻






